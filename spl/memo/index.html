<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">Memo Program | Solana Program Library Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://jacob-cg.github.io/solana-program-library/spl/memo"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Memo Program | Solana Program Library Docs"><meta data-react-helmet="true" name="description" content="The Memo program is a simple program that validates a string of UTF-8 encoded"><meta data-react-helmet="true" property="og:description" content="The Memo program is a simple program that validates a string of UTF-8 encoded"><link data-react-helmet="true" rel="shortcut icon" href="/solana-program-library/spl/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jacob-cg.github.io/solana-program-library/spl/memo"><link data-react-helmet="true" rel="alternate" href="https://jacob-cg.github.io/solana-program-library/spl/memo" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jacob-cg.github.io/solana-program-library/spl/memo" hreflang="x-default"><link rel="stylesheet" href="/solana-program-library/spl/assets/css/styles.2cd238eb.css">
<link rel="preload" href="/solana-program-library/spl/assets/js/runtime~main.ac1e7056.js" as="script">
<link rel="preload" href="/solana-program-library/spl/assets/js/main.9fffa1e5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/solana-program-library/spl/"><div class="navbar__logo"><img src="/solana-program-library/spl/img/logo-horizontal.svg" alt="Solana Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/solana-program-library/spl/img/logo-horizontal-dark.svg" alt="Solana Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div></a><a href="https://docs.solana.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Docs ¬ª<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://discordapp.com/invite/pquxPsq" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/solana-labs/solana-program-library" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">üåú</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">üåû</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Solana Program Library (SPL)</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solana-program-library/spl/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solana-program-library/spl/token">Token Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solana-program-library/spl/token-swap">Token Swap Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solana-program-library/spl/token-lending">Token-Lending Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solana-program-library/spl/associated-token-account">Associated Token Account Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/solana-program-library/spl/memo">Memo Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solana-program-library/spl/name-service">Name Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solana-program-library/spl/shared-memory">Shared memory Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solana-program-library/spl/stake-pool">Stake Pool Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solana-program-library/spl/feature-proposal">Feature Proposal Program</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Memo Program</h1></header><p>The Memo program is a simple program that validates a string of UTF-8 encoded
characters and verifies that any accounts provided are signers of the
transaction. The program also logs the memo, as well as any verified signer
addresses, to the transaction log, so that anyone can easily observe memos and
know they were approved by zero or more addresses by inspecting the transaction
log from a trusted provider.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="background">Background<a aria-hidden="true" class="hash-link" href="#background" title="Direct link to heading">‚Äã</a></h2><p>Solana&#x27;s programming model and the definitions of the Solana terms used in this
document are available at:</p><ul><li><a href="https://docs.solana.com/apps" target="_blank" rel="noopener noreferrer">https://docs.solana.com/apps</a></li><li><a href="https://docs.solana.com/terminology" target="_blank" rel="noopener noreferrer">https://docs.solana.com/terminology</a></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="source">Source<a aria-hidden="true" class="hash-link" href="#source" title="Direct link to heading">‚Äã</a></h2><p>The Memo Program&#x27;s source is available on
<a href="https://github.com/solana-labs/solana-program-library" target="_blank" rel="noopener noreferrer">github</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="interface">Interface<a aria-hidden="true" class="hash-link" href="#interface" title="Direct link to heading">‚Äã</a></h2><p>The on-chain Memo Program is written in Rust and available on crates.io as
<a href="https://crates.io/crates/spl-memo" target="_blank" rel="noopener noreferrer">spl-memo</a> and
<a href="https://docs.rs/spl-memo" target="_blank" rel="noopener noreferrer">docs.rs</a>.</p><p>The crate provides a <code>build_memo()</code> method to easily create a properly
constructed Instruction.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="operational-notes">Operational Notes<a aria-hidden="true" class="hash-link" href="#operational-notes" title="Direct link to heading">‚Äã</a></h2><p>If zero accounts are provided to the signed-memo instruction, the program
succeeds when the memo is valid UTF-8, and logs the memo to the transaction log.</p><p>If one or more accounts are provided to the signed-memo instruction, all must be
valid signers of the transaction for the instruction to succeed.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="logs">Logs<a aria-hidden="true" class="hash-link" href="#logs" title="Direct link to heading">‚Äã</a></h3><p>This section details expected log output for memo instructions.</p><p>Logging begins with entry into the program:
<code>Program MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr invoke [1]</code></p><p>The program will include a separate log for each verified signer:
<code>Program log: Signed by &lt;BASE_58_ADDRESS&gt;</code></p><p>Then the program logs the memo length and UTF-8 text:
<code>Program log: Memo (len 4): &quot;üêÜ&quot;</code></p><p>If UTF-8 parsing fails, the program will log the failure point:
<code>Program log: Invalid UTF-8, from byte 4</code></p><p>Logging ends with the status of the instruction, one of:
<code>Program MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr success</code>
<code>Program MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr failed: missing required signature for instruction</code>
<code>Program MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr failed: invalid instruction data</code></p><p>For more information about exposing program logs on a node, head to the
<a href="https://docs.solana.com/developing/on-chain-programs/debugging#logging" target="_blank" rel="noopener noreferrer">developer
docs</a></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="compute-limits">Compute Limits<a aria-hidden="true" class="hash-link" href="#compute-limits" title="Direct link to heading">‚Äã</a></h3><p>Like all programs, the Memo Program is subject to the cluster&#x27;s <a href="https://docs.solana.com/developing/programming-model/runtime#compute-budget" target="_blank" rel="noopener noreferrer">compute
budget</a>.
In Memo, compute is used for parsing UTF-8, verifying signers, and logging,
limiting the memo length and number of signers that can be processed
successfully in a single instruction. The longer or more complex the UTF-8 memo,
the fewer signers can be supported, and vice versa.</p><p>As of v1.5.1, an unsigned instruction can support single-byte UTF-8 of up to 566
bytes. An instruction with a simple memo of 32 bytes can support up to 12
signers.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/solana-program-library/spl/associated-token-account"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ <!-- -->Associated Token Account Program</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/solana-program-library/spl/name-service"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Name Service<!-- --> ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#background" class="table-of-contents__link toc-highlight">Background</a></li><li><a href="#source" class="table-of-contents__link toc-highlight">Source</a></li><li><a href="#interface" class="table-of-contents__link toc-highlight">Interface</a></li><li><a href="#operational-notes" class="table-of-contents__link toc-highlight">Operational Notes</a><ul><li><a href="#logs" class="table-of-contents__link toc-highlight">Logs</a></li><li><a href="#compute-limits" class="table-of-contents__link toc-highlight">Compute Limits</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discordapp.com/invite/pquxPsq" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/solana" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://forums.solana.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/solana-labs/solana-program-library" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021 Solana Foundation</div></div></div></footer></div>
<script src="/solana-program-library/spl/assets/js/runtime~main.ac1e7056.js"></script>
<script src="/solana-program-library/spl/assets/js/main.9fffa1e5.js"></script>
</body>
</html>